# 项目回忆录 - V1.0
问："你在新项目中遇到哪些困难/具体负责的内容"  
>答：我们开会决定新项目采取前后端分离：
>1. 针对htp无状态的问题，我们采取了token的解决方案[jwt,base64加密了基础数据，通过hmac-SHA256签名[key]];在自主研发jwt签发/校验逻辑的过程中，我们发现b64转码结果中有很多'='占位符，严重影响了传输效率，加大了带宽成本[用户以及我们公司]，在这个问题上，我们调研了jwt官方的实现，发现了jwt也进行了相关优化，替换掉了b64结果中的'='，并很巧妙的在解析过程中，补全替换掉的'='[调研了b64实现原理，发现b64编码后总长度一定是4的倍数];并且我们在header上也进行了一些优化->将jwt header部分取消；减少冗余；以上成果得到了公司全体员工[领导]的高度认可  

2. 老板说 - SEO[搜索引擎优化];我们初步的方案是根据搜索网站爬虫的user-agent返回静态[带内容文字]的网页，供其尽情的享受！但是这部分，可能晚辈细节把握不太到位，因为分给了前端工程师去处理  

3. csrf - token一定程度上加大了csrf的难度  
> 答：web版本的产品任务，我们遇到了跨域的问题；我们调研了常规的跨域方案，script的src以及jquery的jsonp,cors;s-src实现成本高,只能是发get请求；jsonp只是简化了前端的工作,后端成本未改变，也是只能发get请求；
由于cors的灵活性[支持各种http请求，且后端只需要进行一次通用配置，即可使用]。
PS：我们起初尝试在线安装django-cors,发现本地django版本被强制升级到了2.0，原版本为1.11.8;此次意外升级，造成了项目有意外的报错故障，我们高度统一了django版本，并且用源码安装的方式进行django-cors安装  
在URL设计上，我们参照了RESTful的设计规范：  
>>1. 名词
>>2. HTTP method 的语义
>>3. 接口版本问题 -v1,v2,v3...
>>4. 返回值
>>>1. code的使用[httpresponse code/ 自定义code]
>>>2. 数据的返回值



